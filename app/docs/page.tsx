'use client';

import React, { useState } from 'react';
import Link from 'next/link';
import UnifiedNavigation from '../components/UnifiedNavigation';

export default function DocsPage() {
  const [activeSection, setActiveSection] = useState('getting-started');
  const [searchQuery, setSearchQuery] = useState('');

  const sections = [
    {
      id: 'getting-started',
      title: 'Getting Started',
      icon: 'üöÄ',
      content: [
        {
          title: 'Welcome to Design-Rite',
          content: `
Design-Rite is an AI-powered security design platform that transforms the way security professionals create assessments, proposals, and documentation. Our platform reduces what typically takes days or weeks into minutes.

**Key Benefits:**
‚Ä¢ Generate professional security assessments in minutes, not days
‚Ä¢ Access live pricing data for 3,000+ security products
‚Ä¢ Create compliance-ready documentation (FERPA, HIPAA, CJIS)
‚Ä¢ Professional BOMs and implementation timelines
‚Ä¢ Built by security engineers for security professionals
          `
        },
        {
          title: 'Quick Start Guide',
          content: `
**Step 1: Choose Your Starting Point**
Visit /estimate-options to select between:
‚Ä¢ **Quick Security Estimate** (5 minutes) - Fast assessment with basic recommendations
‚Ä¢ **AI Discovery Assistant** (15-20 minutes) - Comprehensive analysis with detailed documentation

**Step 2: Provide Project Details**
Enter basic information about your facility:
‚Ä¢ Building type and square footage
‚Ä¢ Security concerns and requirements
‚Ä¢ Compliance needs (if applicable)
‚Ä¢ Budget considerations

**Step 3: Review & Refine**
‚Ä¢ Review AI-generated recommendations
‚Ä¢ Customize equipment selections
‚Ä¢ Adjust pricing and specifications
‚Ä¢ Generate professional proposals

**Step 4: Export & Implement**
‚Ä¢ Download PDF proposals and BOMs
‚Ä¢ Share with clients or stakeholders
‚Ä¢ Use implementation timelines for project planning
          `
        }
      ]
    },
    {
      id: 'security-tools',
      title: 'Security Assessment Tools',
      icon: 'üõ°Ô∏è',
      content: [
        {
          title: 'Quick Security Estimate',
          content: `
**Purpose:** Generate fast, accurate security cost estimates for initial client conversations.

**Best Used For:**
‚Ä¢ Initial client meetings and discovery calls
‚Ä¢ Budget planning and proposal preparation
‚Ä¢ Quick feasibility assessments
‚Ä¢ Lead qualification

**How to Use:**
1. Navigate to /estimate-options and select "Quick Security Estimate"
2. Enter basic facility information (type, size, location)
3. Select primary security concerns from predefined options
4. Choose compliance requirements if applicable
5. Review instant cost estimate with breakdown
6. Option to "Refine Estimate" for more detailed analysis

**Key Features:**
‚Ä¢ 5-minute completion time
‚Ä¢ Instant cost calculations based on live pricing data
‚Ä¢ Industry-standard equipment recommendations
‚Ä¢ Compliance consideration flags
‚Ä¢ Professional summary for client presentation

**Output:** Basic cost estimate with equipment categories and pricing ranges
          `
        },
        {
          title: 'AI Discovery Assistant',
          content: `
**Purpose:** Comprehensive security assessment with detailed analysis and professional documentation.

**Best Used For:**
‚Ä¢ Detailed project planning and design
‚Ä¢ Comprehensive security audits
‚Ä¢ Complex multi-phase installations
‚Ä¢ Compliance-critical environments

**How to Use:**
1. Select "AI Discovery Assistant" from /estimate-options
2. Complete structured assessment questionnaire:
   - Facility details and layout considerations
   - Current security infrastructure
   - Specific threats and vulnerabilities
   - Operational requirements
   - Compliance and regulatory needs
3. Review comprehensive AI analysis
4. Customize recommendations as needed
5. Generate detailed proposal documentation

**Key Features:**
‚Ä¢ Comprehensive threat analysis
‚Ä¢ Detailed equipment specifications
‚Ä¢ Implementation timelines and phases
‚Ä¢ Compliance documentation generation
‚Ä¢ Professional proposal formatting
‚Ä¢ Integration recommendations

**Output:** Full security design document with BOMs, timelines, and implementation plans
          `
        },
        {
          title: 'AI Assistant (Refinement)',
          content: `
**Purpose:** Refine and enhance existing security estimates with additional analysis and customization.

**Best Used For:**
‚Ä¢ Enhancing quick estimates with more detail
‚Ä¢ Customizing recommendations for specific requirements
‚Ä¢ Adding compliance documentation to existing assessments
‚Ä¢ Preparing client-ready proposals from initial estimates

**How to Access:**
‚Ä¢ From Quick Security Estimate: Click "Refine Estimate"
‚Ä¢ Direct access: /ai-assistant
‚Ä¢ Receives data from previous assessment tools automatically

**Key Features:**
‚Ä¢ Builds upon existing assessment data
‚Ä¢ Advanced customization options
‚Ä¢ Professional document generation
‚Ä¢ Compliance report integration
‚Ä¢ Cost optimization recommendations
‚Ä¢ Implementation timeline creation

**Integration:** Seamlessly continues from Quick Security Estimate with all data preserved
          `
        }
      ]
    },
    {
      id: 'compliance',
      title: 'Compliance & Standards',
      icon: 'üìã',
      content: [
        {
          title: 'Supported Compliance Frameworks',
          content: `
Design-Rite automatically incorporates compliance considerations into all security assessments.

**FERPA (Educational)**
‚Ä¢ Student privacy protection requirements
‚Ä¢ Campus security design considerations
‚Ä¢ K-12 and higher education specific guidelines
‚Ä¢ Video surveillance positioning and retention policies

**HIPAA (Healthcare)**
‚Ä¢ Patient privacy and data protection
‚Ä¢ Medical facility security requirements
‚Ä¢ Access control for sensitive areas
‚Ä¢ Video surveillance compliance in healthcare settings

**CJIS (Criminal Justice)**
‚Ä¢ Law enforcement facility security standards
‚Ä¢ Evidence handling and storage requirements
‚Ä¢ Access control for secure areas
‚Ä¢ Physical security for sensitive information

**General Security Frameworks**
‚Ä¢ NIST Cybersecurity Framework physical security components
‚Ä¢ SOC 2 physical access controls
‚Ä¢ ISO 27001 physical security requirements
‚Ä¢ Local building codes and fire safety integration
          `
        },
        {
          title: 'Compliance Tools',
          content: `
**Compliance Analyzer**
Access: /compliance-analyst
‚Ä¢ Automated compliance gap analysis
‚Ä¢ Regulatory requirement mapping
‚Ä¢ Documentation generation for audits
‚Ä¢ Compliance timeline and implementation planning

**Quick Compliance Checks**
Access: /compliance-check
‚Ä¢ FERPA compliance assessment for educational facilities
‚Ä¢ HIPAA compliance review for healthcare environments
‚Ä¢ Basic security framework alignment verification

**Security Framework Guidance**
Access: /compliance/general-security
‚Ä¢ NIST Framework implementation guidance
‚Ä¢ SOC 2 physical security controls
‚Ä¢ ISO 27001 physical security requirements
‚Ä¢ Best practices for multi-framework compliance
          `
        }
      ]
    },
    {
      id: 'platform-features',
      title: 'Platform Features',
      icon: '‚öôÔ∏è',
      content: [
        {
          title: 'Proposal Generator',
          content: `
**Professional Proposals**
Access: /professional-proposals

**Features:**
‚Ä¢ Branded proposal templates
‚Ä¢ Executive summary generation
‚Ä¢ Detailed technical specifications
‚Ä¢ Cost breakdowns and ROI analysis
‚Ä¢ Implementation timelines
‚Ä¢ Terms and conditions integration

**Customization Options:**
‚Ä¢ Company branding and logos
‚Ä¢ Custom pricing structures
‚Ä¢ Specific equipment preferences
‚Ä¢ Regional compliance requirements
‚Ä¢ Client-specific language and terminology

**Output Formats:**
‚Ä¢ PDF proposals for client presentation
‚Ä¢ Excel BOMs for procurement
‚Ä¢ Implementation schedules
‚Ä¢ Compliance documentation packages
          `
        },
        {
          title: 'Pricing Intelligence',
          content: `
**Live Pricing Data**
Access: /pricing-intelligence

**Database Coverage:**
‚Ä¢ 3,000+ security products with live pricing
‚Ä¢ Major manufacturer product lines
‚Ä¢ Regional pricing variations
‚Ä¢ Volume discount calculations
‚Ä¢ Installation cost estimates

**Price Optimization:**
‚Ä¢ Alternative product recommendations
‚Ä¢ Cost-benefit analysis for equipment choices
‚Ä¢ Budget optimization suggestions
‚Ä¢ ROI calculations for security investments

**Market Intelligence:**
‚Ä¢ Pricing trends and market analysis
‚Ä¢ New product introductions
‚Ä¢ Competitive analysis tools
‚Ä¢ Cost benchmarking against industry standards
          `
        },
        {
          title: 'White Label Solutions',
          content: `
**Partner Integration**
Access: /white-label

**Customization Options:**
‚Ä¢ Complete branding customization
‚Ä¢ Custom domain integration
‚Ä¢ Branded email communications
‚Ä¢ Company-specific workflows
‚Ä¢ Custom compliance requirements

**Enterprise Features:**
‚Ä¢ Multi-user account management
‚Ä¢ Role-based access controls
‚Ä¢ Custom reporting and analytics
‚Ä¢ API integration capabilities
‚Ä¢ Advanced administrative controls

**Implementation Support:**
‚Ä¢ Technical integration assistance
‚Ä¢ Training and onboarding programs
‚Ä¢ Ongoing support and maintenance
‚Ä¢ Custom feature development options
          `
        }
      ]
    },
    {
      id: 'best-practices',
      title: 'Best Practices',
      icon: 'üí°',
      content: [
        {
          title: 'Assessment Workflow Optimization',
          content: `
**Recommended Workflow for Client Projects:**

**Initial Client Meeting:**
1. Use Quick Security Estimate for initial budget discussion
2. Gather basic facility information during the meeting
3. Generate instant estimate to guide conversation
4. Identify key concerns and requirements

**Detailed Proposal Development:**
1. Use AI Discovery Assistant for comprehensive analysis
2. Complete detailed assessment questionnaire
3. Review and customize AI recommendations
4. Generate professional proposal documentation

**Client Presentation:**
1. Present executive summary first
2. Review security recommendations and rationale
3. Discuss implementation timeline and phases
4. Address compliance requirements and documentation

**Project Implementation:**
1. Use implementation timeline from assessment
2. Track progress against recommended phases
3. Document any modifications or changes
4. Generate final compliance documentation
          `
        },
        {
          title: 'Data Input Best Practices',
          content: `
**Facility Information:**
‚Ä¢ Be as specific as possible with building details
‚Ä¢ Include any existing security infrastructure
‚Ä¢ Note any physical constraints or limitations
‚Ä¢ Specify high-value or sensitive areas

**Security Requirements:**
‚Ä¢ Prioritize threats based on actual risk assessment
‚Ä¢ Consider both internal and external threat vectors
‚Ä¢ Include operational requirements (24/7 monitoring, etc.)
‚Ä¢ Specify any integration requirements with existing systems

**Compliance Considerations:**
‚Ä¢ Identify all applicable regulatory requirements
‚Ä¢ Note any industry-specific standards
‚Ä¢ Include local building codes and restrictions
‚Ä¢ Consider future compliance requirements

**Budget and Timeline:**
‚Ä¢ Provide realistic budget ranges
‚Ä¢ Include any phasing or timeline constraints
‚Ä¢ Consider maintenance and ongoing costs
‚Ä¢ Factor in training and operational requirements
          `
        }
      ]
    },
    {
      id: 'troubleshooting',
      title: 'Troubleshooting',
      icon: 'üîß',
      content: [
        {
          title: 'Common Issues and Solutions',
          content: `
**Assessment Not Loading:**
‚Ä¢ Check internet connection
‚Ä¢ Clear browser cache and cookies
‚Ä¢ Try a different browser or incognito mode
‚Ä¢ Ensure JavaScript is enabled

**Missing Recommendations:**
‚Ä¢ Verify all required fields are completed
‚Ä¢ Check that facility type is correctly selected
‚Ä¢ Ensure security concerns are properly specified
‚Ä¢ Try refreshing the assessment

**Pricing Information Issues:**
‚Ä¢ Pricing data updates in real-time
‚Ä¢ Regional variations may affect pricing
‚Ä¢ Volume discounts may not be reflected in initial estimates
‚Ä¢ Contact support for custom pricing requirements

**Export/Download Problems:**
‚Ä¢ Ensure pop-ups are allowed for the site
‚Ä¢ Check download folder for PDF files
‚Ä¢ Try right-clicking and "Save As" for downloads
‚Ä¢ Clear browser downloads if stuck

**Session/Login Issues:**
‚Ä¢ Guest sessions persist for returning users
‚Ä¢ Clear browser data if experiencing login problems
‚Ä¢ Check email for magic link if using email authentication
‚Ä¢ Contact support if account access issues persist
          `
        },
        {
          title: 'Getting Additional Help',
          content: `
**Support Channels:**

**Live Chat Support**
‚Ä¢ Available during business hours
‚Ä¢ Immediate assistance for urgent issues
‚Ä¢ Technical support and platform guidance
‚Ä¢ Account and billing questions

**Email Support**
‚Ä¢ Detailed technical assistance
‚Ä¢ Non-urgent questions and requests
‚Ä¢ Feature requests and feedback
‚Ä¢ Account management issues

**Documentation and Resources**
‚Ä¢ Comprehensive user guides
‚Ä¢ Video tutorials and walkthroughs
‚Ä¢ Best practices and case studies
‚Ä¢ Regular platform updates and announcements

**Training and Onboarding**
‚Ä¢ New user orientation sessions
‚Ä¢ Advanced feature training
‚Ä¢ Best practices workshops
‚Ä¢ Custom training for enterprise clients

**Contact Information:**
‚Ä¢ Support: support@design-rite.com
‚Ä¢ Sales: sales@design-rite.com
‚Ä¢ General: info@design-rite.com
‚Ä¢ Emergency: Available through platform chat
          `
        }
      ]
    }
  ];

  const filteredSections = sections.filter(section =>
    section.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
    section.content.some(item =>
      item.title.toLowerCase().includes(searchQuery.toLowerCase()) ||
      item.content.toLowerCase().includes(searchQuery.toLowerCase())
    )
  );

  const formatContent = (content: string) => {
    return content.split('\n').map((line, index) => {
      if (line.startsWith('**') && line.endsWith('**')) {
        return <h4 key={index} className="font-bold text-purple-300 mt-4 mb-2">{line.slice(2, -2)}</h4>;
      }
      if (line.startsWith('‚Ä¢ ')) {
        return <li key={index} className="ml-4 mb-1 text-gray-300">{line.slice(2)}</li>;
      }
      if (line.trim() === '') {
        return <br key={index} />;
      }
      return <p key={index} className="text-gray-300 mb-2 leading-relaxed">{line}</p>;
    });
  };

  return (
    <div className="min-h-screen bg-gradient-to-br from-[#0A0A0A] via-[#1A1A2E] to-[#16213E] text-white">
      <UnifiedNavigation />

      {/* Header */}
      <section className="pt-32 pb-16 bg-gradient-to-br from-[#0A0A0A] via-[#1A1A2E] to-[#16213E] relative overflow-hidden">
        <div className="absolute inset-0 bg-gradient-radial from-purple-600/10 via-transparent to-transparent"></div>
        <div className="max-w-6xl mx-auto px-8 text-center relative z-10">
          <div className="bg-gradient-to-r from-purple-600 to-purple-700 bg-clip-text text-transparent font-bold text-base tracking-widest uppercase mb-4">
            Documentation & Guides
          </div>
          <h1 className="text-5xl lg:text-6xl font-black leading-tight mb-6 bg-gradient-to-r from-white to-gray-300 bg-clip-text text-transparent">
            Master Design-Rite
          </h1>
          <p className="text-xl text-gray-400 mb-16 leading-relaxed max-w-4xl mx-auto">
            Comprehensive guides, tutorials, and best practices for getting the most out of our AI-powered security design platform.
          </p>

          {/* Search */}
          <div className="max-w-2xl mx-auto relative">
            <input
              type="text"
              placeholder="Search documentation..."
              value={searchQuery}
              onChange={(e) => setSearchQuery(e.target.value)}
              className="w-full bg-gray-800/60 border border-purple-600/20 rounded-xl py-4 px-6 text-white placeholder-gray-400 focus:outline-none focus:border-purple-600/50 text-lg"
            />
            <div className="absolute right-4 top-4 text-gray-400 text-xl">üîç</div>
          </div>
        </div>
      </section>

      {/* Main Content */}
      <div className="max-w-7xl mx-auto px-8 py-16">
        <div className="grid lg:grid-cols-4 gap-8">

          {/* Sidebar Navigation */}
          <div className="lg:col-span-1">
            <div className="sticky top-32">
              <h3 className="text-lg font-bold text-white mb-4">Documentation</h3>
              <nav className="space-y-2">
                {sections.map((section) => (
                  <button
                    key={section.id}
                    onClick={() => setActiveSection(section.id)}
                    className={`w-full text-left p-3 rounded-lg transition-all flex items-center gap-3 ${
                      activeSection === section.id
                        ? 'bg-purple-600/20 text-purple-300 border border-purple-600/30'
                        : 'text-gray-400 hover:text-white hover:bg-gray-800/60'
                    }`}
                  >
                    <span className="text-lg">{section.icon}</span>
                    <span className="font-medium">{section.title}</span>
                  </button>
                ))}
              </nav>
            </div>
          </div>

          {/* Content Area */}
          <div className="lg:col-span-3">
            {filteredSections.map((section) => (
              <div key={section.id} className={activeSection === section.id ? 'block' : 'hidden'}>
                <div className="flex items-center gap-4 mb-8">
                  <div className="text-3xl">{section.icon}</div>
                  <h2 className="text-3xl font-black text-white">{section.title}</h2>
                </div>

                <div className="space-y-8">
                  {section.content.map((item, index) => (
                    <div key={index} className="bg-gray-800/60 backdrop-blur-xl border border-purple-600/20 rounded-2xl p-8">
                      <h3 className="text-xl font-bold text-white mb-4">{item.title}</h3>
                      <div className="prose prose-invert max-w-none">
                        {formatContent(item.content)}
                      </div>
                    </div>
                  ))}
                </div>
              </div>
            ))}
          </div>
        </div>
      </div>

      {/* Quick Links Section */}
      <section className="py-16 bg-black/50">
        <div className="max-w-6xl mx-auto px-8">
          <h2 className="text-3xl font-black text-center mb-12 bg-gradient-to-r from-white to-purple-600 bg-clip-text text-transparent">
            Quick Access
          </h2>
          <div className="grid md:grid-cols-2 lg:grid-cols-4 gap-6">
            <Link href="/estimate-options" className="bg-gray-800/60 backdrop-blur-xl border border-purple-600/20 rounded-2xl p-6 text-center hover:-translate-y-1 hover:border-purple-600/50 hover:shadow-xl hover:shadow-purple-600/15 transition-all">
              <div className="text-3xl mb-4">üìä</div>
              <h3 className="text-lg font-bold text-white mb-2">Start Assessment</h3>
              <p className="text-gray-400 text-sm">Begin your security estimate</p>
            </Link>

            <Link href="/support" className="bg-gray-800/60 backdrop-blur-xl border border-purple-600/20 rounded-2xl p-6 text-center hover:-translate-y-1 hover:border-purple-600/50 hover:shadow-xl hover:shadow-purple-600/15 transition-all">
              <div className="text-3xl mb-4">üí¨</div>
              <h3 className="text-lg font-bold text-white mb-2">Get Support</h3>
              <p className="text-gray-400 text-sm">Contact our support team</p>
            </Link>

            <Link href="/pricing" className="bg-gray-800/60 backdrop-blur-xl border border-purple-600/20 rounded-2xl p-6 text-center hover:-translate-y-1 hover:border-purple-600/50 hover:shadow-xl hover:shadow-purple-600/15 transition-all">
              <div className="text-3xl mb-4">üí∞</div>
              <h3 className="text-lg font-bold text-white mb-2">View Pricing</h3>
              <p className="text-gray-400 text-sm">Explore our plans</p>
            </Link>

            <Link href="/contact" className="bg-gray-800/60 backdrop-blur-xl border border-purple-600/20 rounded-2xl p-6 text-center hover:-translate-y-1 hover:border-purple-600/50 hover:shadow-xl hover:shadow-purple-600/15 transition-all">
              <div className="text-3xl mb-4">üìß</div>
              <h3 className="text-lg font-bold text-white mb-2">Contact Sales</h3>
              <p className="text-gray-400 text-sm">Speak with our team</p>
            </Link>
          </div>
        </div>
      </section>
    </div>
  );
}